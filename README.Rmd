---
title: "Fake Data Generation"
author: "Jeremy Albright"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: 
  github_document:
    df_print: kable
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(haven)

```

# Tutorials Data

The purpose of this repo is to document the creation of fake data used in the Methods Consultants tutorials.  This will provide full replicability as well as public access to the data files for users interested in playing around with other software.  The files can be accessed from [here](https://github.com/jeralbri/tutorial-data/tree/master/data).


## t-tests

The t-test tutorials rely on fake IQ scores generated as follows: 

```{r}

set.seed(12345)
gender <- rbinom(100, size = 1, p = .5)

iq    <- tibble(id = rep(1:100, 2),
                 gender = rep(gender, 2), 
                 time = c(rep(0, 100), rep(1, 100))) %>%
  mutate(iq     = rnorm(n(), mean = 100 + 2*gender + 3*time + 3*gender*time, sd = 15)) %>%
  mutate(iq     = round(iq, 2)) %>%
  mutate(gender = factor(gender, levels = 0:1, labels = c("Male", "Female")),
         time   = factor(time,   levels = 0:1, labels = c("Time 1", "Time 2")))


head(iq)

```

The one-sample and independent samples t-test assume that the 200 observations are independent.  Create this file and save as an SPSS file.

```{r}

iq %>%
  mutate(id = row_number()) %>% 
  select(id, gender, iq) %>%
  expss::apply_labels(id     = "Subject ID",
                      gender = "Gender",
                      iq     = "IQ") %>%
  write_sav("data/iq_long.sav")

```

The paired samples t-test assumes the data come from 100 paired observations.  Create this file in wide format in SPSS.

```{r}

iq %>%
  select(id, time, iq) %>%
  spread(time, iq) %>%
  rename(Time_1 = `Time 1`, Time_2 = `Time 2`) %>%
  expss::apply_labels(id     = "Subject ID",
                      Time_1 = "IQ at Time 1",
                      Time_2 = "IQ at Time 2") %>%
  write_sav("data/iq_wide.sav")

```

